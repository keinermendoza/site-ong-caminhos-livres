<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Caminhos Livres - ONG - Cadastro</title>
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/cadastro.html" aria-current="page">Cadastro</a></li>
                <li><a href="/projetos.html" >Projetos</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <section>
            <h1>Cadastro</h1>
            <p>Junte-se a n√≥s! Preencha o formul√°rio abaixo e venha fazer parte dessa rede de solidariedade que ajuda migrantes a recome√ßar suas vidas com dignidade e esperan√ßa.</p>

            <div>
                <form action="">
                     <fieldset>
                        <legend>Informa√ß√µes Pessoais</legend>

                        <div>
                            <label for="nome">Nome:</label>
                            <input type="text"  id="nome" name="nome" required>
                        </div>

                        <div>
                            <label for="email">E-mail:</label>
                            <input type="email" id="email" name="email" pattern="[a-z0-9._%+\-]+@[a-z0-9.\-]+\.[a-z]{2,}$">
                        </div>

                        <div>
                            <label for="cpf">CPF:</label>
                            <p id="msg-cpf">Introduza s√≥ n√∫meros</p>
                            <input type="text"  id="cpf" name="cpf"  pattern="\d{3}\.\d{3}\.\d{3}-\d{2}" required aria-describedby="msg-cpf">
                        </div>

                        <div>
                            <label for="telefone">Telefone:</label>
                            <small id="msg-telefone">Introduza s√≥ n√∫meros</small>
                            <input type="text" id="telefone" name="telefone" pattern="\(\d{2}\) \d{4,5}-\d{4}" required aria-describedby="msg-telefone">
                        </div>

                        <div>
                            <label for="data_nascimento">Data de Nascimento:</label>
                            <input type="date" id="data_nascimento" name="data_nascimento" required>
                        </div>
                    </fieldset>

                    <fieldset>
                        <legend>Resid√™ncia</legend>

                        <div>
                            <label for="endereco">Endere√ßo:</label>
                            <input type="text"  id="endereco" name="endereco" required>
                        </div>

                        <div>
                            <label for="cep">CEP:</label>
                            <p id="msg-cep">Introduza s√≥ n√∫meros</p>
                            <input type="text"  id="cep" name="cep"  pattern="^\d{5}-\d{3}$" required aria-describedby="msg-cep">
                        </div>

                        <div>
                            <label for="cidade">Cidade:</label>
                            <input type="text"  id="cidade" name="cidade" required>
                        </div>

                        <div>
                            <label for="estado">Estado:</label>
                            <input type="text"  id="estado" name="estado" required>
                        </div>
                    </fieldset>

                    <input type="submit" value="Cadastrar">

                </form>
            </div>
        </section>
        
    </main>
    <footer>
        <div>
            <h3>Associa√ß√£o Caminhos Livres</h3>
            <p>Promovendo inclus√£o, dignidade e novas oportunidades para migrantes em todo o Brasil.</p>

            <p>
                <span>Rua da Esperan√ßa, 215 - Liberdade, S√£o Paulo - SP</span>
                <br>
                <span>+55 (11) 93425-7890 | üìß contato@caminhoslivres.org.br</span>
            </p>

            <p>
                <a href="#instagram" >Instagram</a>
                <a href="#facebook" >Facebook</a>
            </p>

            <hr>

            <p>
                &copy; 2025 <span id="footer-current-year"></span> Associa√ß√£o Caminhos Livres ‚Äî Todos os direitos reservados.<br>
                Feito com ‚ù§Ô∏è por <a href="https://keinermendoza.com" target="_blank">Keiner Mendoza</a>.
            </p>
        </div>
    </footer>
    <script>
        // cria mascara do telefone usando javascript
        const telefone = document.getElementById('telefone');

        telefone.addEventListener('input', (e) => {
            // armazena valor do input em variavel
            let x = e.target.value; 

            // remove tudo que n√£o seja n√∫mero
            x = x.replace(/\D/g, '')
            
            // limita a 11 d√≠gitos
            if (x.length > 11) x = x.slice(0, 11);

            // adiciona par√©ntesis al DDD
            x = x.replace(/^(\d{2})(\d)/g, '($1) $2'); 
            
            // adiciona ifem antes dos √∫ltimos 4 d√≠gitos
            x = x.replace(/(\d{5})(\d{4})$/, '$1-$2'); 
            
            // setea valor do input usando variavel
            e.target.value = x;
        });

        // cria mascara do CPF usando javascript
        // codigo adpatado, original do davidsammuel@gmail.com disponivel em https://pt.stackoverflow.com/a/290510 
        const cpf = document.getElementById('cpf');

        cpf.addEventListener("input", (e) =>{
            let v = e.target.value;
            
            if(isNaN(v[v.length-1])){ // impede entrar outro caractere que n√£o seja n√∫mero
                cpf.value = v.substring(0, v.length-1);
                return;
            }
            
            cpf.setAttribute("maxlength", "14");
            if (v.length == 3 || v.length == 7) cpf.value += ".";
            if (v.length == 11) cpf.value += "-";
        })  


        // cria mascara do CEP usando javascript
        const cep = document.getElementById('cep');

        cep.addEventListener("input", (e) => {
            let v = e.target.value;
            
            // impede entrada de caracteres n√£o num√©ricos
            if (isNaN(v[v.length - 1])) {
                cep.value = v.substring(0, v.length - 1);
                return;
            }

            // define o tamanho m√°ximo (8 d√≠gitos + 1 h√≠fen)
            cep.setAttribute("maxlength", "9");

            // insere o h√≠fen automaticamente ap√≥s o quinto d√≠gito
            if (v.length === 5) cep.value += "-";
        });
    
    </script>
</body>
</html>